<?php

namespace Database\Seeders;

use Carbon\Carbon;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class ReportSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $coordinates = [
            [7.473453, 125.80204],
            [7.456603, 125.784187],
            [7.441454, 125.779037],
            [7.480432, 125.829506],
            [7.425453, 125.803413],
            [7.420006, 125.787792],
            [7.410814, 125.814228],
            [7.436518, 125.814571],
            [7.407069, 125.783672],
            [7.368596, 125.792427],
            [7.367404, 125.801182],
            [7.360935, 125.781097],
            [7.355997, 125.768566],
            [7.349358, 125.768738],
            [7.349528, 125.779552],
            [7.34442, 125.7617],
            [7.339483, 125.753975],
            [7.358551, 125.757236],
            [7.374724, 125.764618],
            [7.38613, 125.787106],
            [7.395664, 125.789165],
            [7.377619, 125.75552],
            [7.394472, 125.758781],
            [7.402132, 125.760498],
            [7.409112, 125.766678],
            [7.415921, 125.770798],
            [7.421028, 125.804272],
            [7.424092, 125.811996],
            [7.424092, 125.810108],
            [7.429879, 125.802212],
            [7.420347, 125.802898],
            [7.425794, 125.794659],
            [7.424943, 125.803585],
            [7.426645, 125.81337],
            [7.421709, 125.816116],
            [7.426305, 125.824184],
            [7.436858, 125.825558],
            [7.432092, 125.826759],
            [7.420687, 125.834312],
            [7.415751, 125.826759],
            [7.417112, 125.837402],
            [7.411835, 125.838947],
            [7.420177, 125.837402],
            [7.4229, 125.834827],
            [7.447752, 125.791397],
            [7.448603, 125.795345],
            [7.459496, 125.809593],
            [7.465113, 125.779552],
            [7.475155, 125.794144],
            [7.477368, 125.79586],
            [7.485197, 125.782642],
            [7.493707, 125.788136],
            [7.480772, 125.821781],
            [7.489793, 125.825214],
            [7.500515, 125.808735],
            [7.495579, 125.777149],
            [7.33727, 125.748904],
            [7.333184, 125.76264],
            [7.365191, 125.749591],
            [7.365872, 125.769507],
            [7.353614, 125.760579],
            [7.381534, 125.7647],
            [7.379491, 125.786677],
            [7.360424, 125.787364],
            [7.351571, 125.773628],
            [7.367234, 125.763326],
            [7.365872, 125.810027],
            [7.356338, 125.794918],
            [7.395153, 125.803846],
            [7.37881, 125.821016],
            [7.367915, 125.820329],
            [7.36451, 125.807967],
            [7.395153, 125.821703],
            [7.416261, 125.827197],
            [7.424432, 125.810714],
            [7.412857, 125.806593],
            [7.404005, 125.803846],
            [7.40741, 125.832691],
            [7.435326, 125.793545],
            [7.447582, 125.789424],
            [7.46256, 125.811401],
            [7.446901, 125.775002],
            [7.465284, 125.825823],
            [7.511577, 125.785303],
            [7.490473, 125.796292],
            [7.520427, 125.82651],
            [7.517023, 125.796979],
            [7.515662, 125.772941],
            [7.50545, 125.763326],
            [7.470049, 125.777749],
            [7.485708, 125.755085],
            [7.488431, 125.838872],
            [7.475496, 125.82445],
            [7.457114, 125.818955],
            [7.40741, 125.801099],
            [7.399919, 125.775688],
            [7.411495, 125.768134],
        ];

        $defects = ['Pothole', 'Cracks', 'Alligator Cracks', 'Spalling'];
        $streets = ['Apokon Road', 'Mankilam Street', 'Rizal Street', 'OsmeÃ±a Avenue', 'Magugpo West Road'];
        $puroks = ['Purok 1', 'Purok 2', 'Purok 3', 'Purok 4', 'Purok 5'];
        $barangays = ['Apokon', 'Mankilam', 'Magugpo West', 'Magugpo South', 'Magugpo North'];
        $labels = [1, 2, 3, 4];
        $statuses = ['Repaired', 'Ongoing', 'Unfixed'];
        $images = [
            'images/pothole.jpg',
            'images/pothole1.jpg',
            'images/roadDefect-patches.jpg',
            'images/roadDefect-pothole.jpg',
        ];

        foreach ($coordinates as $index => [$lat, $lng]) {
            DB::table('reports')->insert([
                'id' => $index + 1,
                'reporter_id' => rand(1, 5),
                'defect' => $defects[array_rand($defects)],
                'location' => $streets[array_rand($streets)] . ', ' . $puroks[array_rand($puroks)] . ', ' . $barangays[array_rand($barangays)] . ', Tagum City',
                'street' => $streets[array_rand($streets)],
                'purok' => $puroks[array_rand($puroks)],
                'barangay' => $barangays[array_rand($barangays)],
                'date' => Carbon::now()->subDays(rand(0, 30))->toDateString(),
                'label' => $labels[array_rand($labels)],
                'severity' => $labels[array_rand($labels)],
                'status' => $statuses[array_rand($statuses)],
                'image' => $images[array_rand($images)],
                'lat' => $lat,
                'lng' => $lng,
            ]);
        }
    }
}
