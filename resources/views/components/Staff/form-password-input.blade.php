@props(['label', 'name', 'type' => 'password', 'required' => false])

<div class="flex flex-col" x-data="{ show: false }">
    <div class="w-full relative">
        <input
            type="{{ $type }}"
            :type="show ? 'text' : 'password'"
            placeholder=" "
            id="{{ $name }}"
            required="{{ $required }}"
            {{ $attributes->merge(['class' => 'w-full py-2 px-4 bg-[#303030] border-x-transparent border-t-transparent border-b-2 border-b-[#757575] rounded-[4px] text-white text-[15px] focus:border-x-transparent focus:border-t-transparent focus:border-b-2 focus:border-b-[#757575] focus:outline-none focus:ring-0 focus:ring-transparent peer']) }}
        />
        <label
            for="{{ $name }}"
            class="absolute left-4 top-[45%] -translate-y-1/2 px-1.5 pb-0.5 pt-1.5 text-[#bdbdbd] text-[15px] pointer-events-none transition-all duration-200 ease-in-out rounded peer-focus:-top-1 peer-focus:left-2 peer-focus:text-[14px] peer-focus:text-[#929292] peer-focus:font-bold peer-[:not(:placeholder-shown)]:-top-1 peer-[:not(:placeholder-shown)]:left-2 peer-[:not(:placeholder-shown)]:text-[14px] peer-[:not(:placeholder-shown)]:text-[#929292] peer-[:not(:placeholder-shown)]:font-bold"
        >
            {{ $label }}
        </label>
        <button @click="show = !show"
                class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 focus:outline-none">
            <!-- Eye icons -->
            <svg x-show="show" xmlns="http://www.w3.org/2000/svg"
                 width="20" height="20" viewBox="0 0 375 375"
                 class="fill-current text-gray-500">
                <path fill="gray"
                      d="M 364.394531 183.273438 C 344.859375 152.066406 288.148438 78.507812 187.597656 78.507812 C 87.042969 78.507812 30.332031 152.066406 10.800781 183.273438 C 5.546875 191.660156 5.546875 202.347656 10.800781 210.734375 C 30.332031 241.941406 87.042969 315.5 187.597656 315.5 C 288.148438 315.5 344.859375 241.941406 364.394531 210.734375 C 369.648438 202.347656 369.648438 191.660156 364.394531 183.273438 Z M 187.597656 274.339844 C 144.816406 274.339844 110.136719 239.714844 110.136719 197.003906 C 110.136719 154.292969 144.816406 119.667969 187.597656 119.667969 C 230.375 119.667969 265.054688 154.292969 265.054688 197.003906 C 265.054688 239.714844 230.375 274.339844 187.597656 274.339844 Z M 213.417969 184.113281 C 206.289062 184.113281 200.507812 178.34375 200.507812 171.226562 C 200.507812 167.710938 201.933594 164.539062 204.21875 162.214844 C 199.164062 159.800781 193.574219 158.335938 187.597656 158.335938 C 166.207031 158.335938 148.867188 175.648438 148.867188 197.003906 C 148.867188 218.359375 166.207031 235.671875 187.597656 235.671875 C 208.988281 235.671875 226.328125 218.359375 226.328125 197.003906 C 226.328125 191.039062 224.859375 185.453125 222.445312 180.410156 C 220.113281 182.691406 216.9375 184.113281 213.417969 184.113281 Z M 213.417969 184.113281 "/>
            </svg>
            <svg x-show="!show" xmlns="http://www.w3.org/2000/svg"
                 width="20" height="20" viewBox="0 0 375 375"
                 class="fill-current text-gray-500">
                <path fill="gray"
                      d="M 359.273438 184.5 C 348.402344 167.085938 325.5 136.277344 289.753906 112.980469 L 309.460938 93.25 C 314.371094 88.332031 314.371094 80.371094 309.460938 75.457031 C 304.554688 70.539062 296.597656 70.539062 291.691406 75.457031 L 64.847656 302.566406 C 59.9375 307.484375 59.9375 315.445312 64.847656 320.359375 C 67.300781 322.820312 70.515625 324.046875 73.734375 324.046875 C 76.949219 324.046875 80.164062 322.820312 82.621094 320.359375 L 107.253906 295.699219 C 129.800781 306.417969 156.328125 313.589844 187.15625 313.589844 C 285.046875 313.589844 340.257812 241.777344 359.273438 211.3125 C 364.390625 203.125 364.390625 192.691406 359.273438 184.5 Z M 187.15625 273.40625 C 170.867188 273.40625 155.851562 268.167969 143.539062 259.367188 L 170.953125 231.921875 C 175.855469 234.292969 181.332031 235.65625 187.15625 235.65625 C 207.980469 235.65625 224.859375 218.757812 224.859375 197.910156 C 224.859375 192.078125 223.496094 186.597656 221.128906 181.6875 L 248.542969 154.242188 C 257.332031 166.566406 262.5625 181.601562 262.5625 197.910156 C 262.566406 239.605469 228.800781 273.40625 187.15625 273.40625 Z M 114.425781 217.597656 C 112.730469 211.3125 111.746094 204.730469 111.746094 197.910156 C 111.746094 156.210938 145.507812 122.410156 187.15625 122.410156 C 193.96875 122.410156 200.542969 123.398438 206.820312 125.09375 L 241.574219 90.296875 C 225.136719 85.304688 207.074219 82.226562 187.15625 82.226562 C 89.261719 82.226562 34.050781 154.039062 15.035156 184.5 C 9.921875 192.691406 9.921875 203.125 15.035156 211.3125 C 23.6875 225.175781 39.929688 247.574219 64.183594 267.898438 Z M 114.425781 217.597656 "/>
            </svg>
        </button>
    </div>

    <div>
        @if(isset($attributes['wire:model.live']))
            @error($attributes['wire:model.live'])
            <span class="w-full text-center text-red-400 text-xs mt-1 block">{{ $message }}</span>
            @enderror
        @else
            @error($name)
            <span class="w-full text-center text-red-400 text-xs mt-1 block">{{ $message }}</span>
            @enderror
        @endif
    </div>
</div>
